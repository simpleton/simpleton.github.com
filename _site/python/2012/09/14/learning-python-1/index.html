
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>
      
        Learning Python 1 - 
      
      Simsun Blog
    </title>
    <meta name="description" content="metaclass">
    <meta name="author" content="shengjie sun">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->


    <script src="/assets/themes/hooligan/js/jquery.min.js"></script>
    <script src="/assets/themes/hooligan/bootstrap/js/bootstrap.min.js"></script>

    <link href="/assets/themes/hooligan/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/hooligan/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet">    
    <link rel="stylesheet" type="text/css" href="/assets/themes/hooligan/css-social-buttons/css/zocial.stripped.css" />
    <link href="/assets/themes/hooligan/css/pygments.css" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/hooligan/css/darkstrap.css" rel="stylesheet" type="text/css" media="all">    
    <link href="/assets/themes/hooligan/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    
    <!-- fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>      


          <a class="brand" href="/">Simsun Blog</a>


          <div class="nav-collapse">
            <ul class="nav">
              
              
              


  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
      
    
  



            </ul>
            <ul class="nav pull-right social visible-desktop">
              <li class="divider-vertical"></li>
              
                <li>
                  <a href="https://www.github.com/simpleton" class="zocial github icon" target="_blank">
                    <span class="hidden-desktop">Github</a>
                  </a>
                </li>
              
                  
                                        
                         
                                  
              
                <li>
                  <a href="http://feeds.feedburner.com/feedname" class="zocial rss icon" target="_blank">
                    <span class="hidden-desktop">FeedBurner</a>
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="content">
        
<div class="page-header">
  <h1>
    Learning Python 1 
    
  </h1>
</div>

<div class="row">
  <div class="span8">
    <p>Recently, iam working on the two APP&#8217;s server side. Life is so brief, so we choose python for implement the server. I have learned python for a short while,i only know the basic work flow such as ,for while if and so on.I just write python program in C sytle&#8230;shame on me. So i want to learning how to write python in python sytle.I will record every thing i have learned.</p>

<h1 id='first_thing_metaclass'>First thing, metaclass</h1>

<p>That is cost me whole day to understand metaprogram. Summarizing MetaProgram is just program make the program.That sounds amazing, just like science film. But actually python has whole mechanism for supporting MetaProgram.</p>

<p>The beginning of the story is that i want to refactor my model module in starfish project to Singleton. But i found some many way to implement Singleton in python on stackoverflow.com. I feel so confused.</p>

<p><a href='http://stackoverflow.com/questions/31875/is-there-a-simple-elegant-way-to-define-singletons-in-python' title='singleton'>singleton_in_python</a></p>

<p>I found one way use metaclass to archieve the Singleton, i feel it&#8217;s interesting.So i spend whole noon search the knowledge about that on internet.</p>

<p><a href='http://stackoverflow.com/questions/100003/what-is-a-metaclass-in-python' title='metaclass'>metaclass</a></p>

<p><a href='http://jianpx.iteye.com/blog/908121' title='metaclass in chinese'>metaclass in chinese</a></p>

<p>I didnot understand what they are talking about, so i will write the what i learned in furture.</p>

<h1 id='__call__'>&#8217;__call__&#8217;</h1>

<p>override this method, u can use the object of the Class as a function, as same as override the () operator.</p>

<pre><code>class Factorial:
	def __init__( self ):
		self.cache = {}
	def __call__( self, n ):
		if n not in self.cache:
			self.cache[n] = n*self.__call__( n-1 )
		return self.cache[n]

fact = Factorial()</code></pre>

<p>now,u have a <code>fact</code> object which is callable,just like a function.</p>
    <hr>
    <div class="pagination btn-group">
      
        <a class="btn prev" href="/2012/09/13/hello-world" title="=Hello World">&larr; Previous</a>
      
        <a class="btn" href="/archive.html">Archive</a>
      
        <a class="btn next disabled">Next &rarr;</a>
      
    </div>
    <hr>
    


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'jekyllbootstrap'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>
  
  <div class="span4">
    <section>
      <h4>Published</h4>
      <div class="date"><span>14 September 2012</span></div>
    </section>
    
      <section>
        <h4>Category</h4>
        <span class="category">
          python
        </span>
      </section>
         
    
      <section>
        <h4>Tags</h4>
        <ul class="tag_box">
          
          


  
     
    	<li><a href="/tags.html#python-ref">python <span>1</span></a></li>
     
    	<li><a href="/tags.html#learning-ref">learning <span>1</span></a></li>
    
  



        </ul>
      </section>
             
  </div>
</div>


      </div>

      <footer>
        <p>&copy; shengjie sun 2012 
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://github.com/dhulihan/hooligan" target="_blank">The Hooligan Theme</a>
        </p>
      </footer>
    </div> <!-- /container -->
    
  </body>
</html>

